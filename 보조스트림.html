<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>자바 메모-보조스트림</title>
    <style>
      a {
        color:black;
        text-decoration: none;
      }
    </style>
  </head>
  <body>

    <a href="./자바blog.html"><h1>자바 블로그</h1></a>
    <ul>
      <li><a href="#">스트림</a></li>
      <li><a href="./바이트기반입출력.html">자바 입출력</a></li>
      <li><a href="#">직렬화</a></li>
      <li><a href="#">스레드</a></li>
    </ul>
    <h2>자바 입출력</h2>
    <ul>
      <li><a href="./바이트기반입출력.html">바이트 기반 입출력</a></li>
      <li><a href="./문자기반입출력.html">문자 기반 입출력</a></li>
      <li><a href="./보조스트림.html">보조 스트림</a></li>
    </ul>

    <p>
      보조스트림 이란 실제 읽고 쓰는 스트림이 아닌 보조적인 기능을 추가하는 스트림 이다.
      FilterInputStream과 FilterOutputStream이 보조스트림의 상위 클래스이다.
      이 스트림들은 생성자로 또 다른 스트림을 가진다.
      FileInputStream으로 바이트 단위 파일 입력을 한다고 할 때 보조스트림으로
      문자로 변환 기능을 추가하고 버퍼링 기능 등등을 추가 할 수 있다.
      이런 식으로 기반이 되는 스트림에 보조적인 기능을 하나하나 추가하는 패턴을
      데코레이션 패턴 이라고 한다.
    </p>

    <p>
      여러가지 보조스트림 사용하기.
      <br>
      Buffered 스트림 : 내부에 8192 바이트 배열을 가지고 있어 읽거나 쓸 때 속도가
      빠름.
      <br>
      DataInputStream/DataOutputStream : 자료가 저장된 상태 그대로 자료형을 유지하며
      읽거나 쓰는 기능을 제공하는 스트림.
    </p>
      <img src="./자바입출력/filecopy.png" alt="error">
      <br>
      zxc파일을 바이트 단위로 읽어 복사하는 copy.txt를 만드는 코드이다.
      <br>
      system의 currenttime을 이용하여 시간차이를 통해 얼마나 시간이 걸렸는지 확인한다.
      <br>
    <p>
      <img src="./자바입출력/filecopy-결과.png" alt="error">
      <br>
      1587밀리 세컨드가 걸렸고 이는 1.6초 정도 된다.
    </p>
    <p>
      그럼 이제 보조스트림인 BufferedInputStreem을 사용하여 차이가 얼마나 되는지
      확인해보자.
      <br>
      <img src="./자바입출력/filecopy2.png" alt="error"> <br>
      바이트 기반 스트림인 fis, fos를 보조스트림으로 기능을 추가하였다. <br>
      이렇게 보조스트림을 사용할 때는 보조스트림의 생성자로 다른 스트림을 받는다. <br>
      이로써 fis와 fos는 버퍼기능이 추가된 스트림이 된다. <br>
      보조스트림을 연결하였다면 사용할 때도 보조스트림을 사용해주면 된다. <br>
      결과를 확인해보자.
    </p>

    <p>
      <img src="./자바입출력/filecopy2-결과.png" alt="error"> <br>
      약 0.0023초가 걸린것을 확인 할 수 있다. <br>
      Buffered 스트림에는 내부적으로 8192바이트의 배열을 가지고 있어 읽거나 쓸 때 속도가
      빠르다. <br>
    </p>

    <p>
      다음으로 DataIn/OutputStream 을 사용해보자. <br>
      <img src="./자바입출력/dataTest.png" alt="error"> <br>
      dos 는 위에서 확인했던 bos와 같은 구조로 기능을 추가한 스트림이다. <br>
      DataIn/OutputStream은 자료가 저장된 상태 그대로 자료형을 유지하여 읽거나 쓴다. <br>
      다만 읽어올때 썼던 자료형 그대로 읽어와야 자료가 깨지지않는다. <br>

      <img src="./자바입출력/dataTest-결과.png" alt="error"> <br>
      데이터가 저장된 형태를 유지하며 출력되는 것을 볼 수 있다. <br>
    </p>

  </body>
</html>
